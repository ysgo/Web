<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Sample</title>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<style>
			svg { width: 320px; height: 240px; border: 1px solid black; }
			.bar { fill : orange; }
		</style>
	</head>
	<body>
		<h1>요소와 데이터의 대응</h1>
		<svg id="myGraph"></svg>
		<script>
		// CSV 파일 읽어들이기
		d3.csv("mydata.csv", function(error, data){
			var dataSet = [ ];	// 데이터를 저장할 배열 준비
			for(var i=0; i<data.length; i++){	// 데이터 줄 개수만큼 반복
				dataSet.push(data[i]["상품A"]);	// 상품A의 레이블 데이터만 추출
			}
			// 요소의 데이터를 읽어들어 콘솔에 출력
			d3.select("#myGraph")
				.selectAll("rect")	// rect 요소 지정
				.data(dataSet)	// 데이터를 요소에 연결
				.enter()	// 데이터 개수만큼 반복
				.append("rect")	// 데이터의 개수만큼 rect 요소가 추가됨
				.call(function(elements){	// 사용자 정의 함수를 호출하여 사용할 수 있음
					elements.each(function(d, i){	// 요소 수만큼 반복
						console.log(i+" = "+d);	// 데이터와 요소 순서 표시
					})
				})
		})
		</script>
	</body>
</html>
